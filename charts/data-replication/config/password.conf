key.for.decryption={{ required "Please define a decryption key in secret.decryptionKey" .Values.secret.decryptionKey }}

aes.spring.datasource.password={{ required "Please define an AES encrypted DB password in secret.datasourcePasswordTarget" .Values.secret.datasourcePasswordTarget }}

{{- range $k, $member := .Values.members }}
    {{- $memberKey := $member.memberSign | lower }}
    {{- $isSource := false }}
    {{- range $.Values.membersSource }}
        {{- if eq $member.memberSign . }}
            {{- $isSource = true }}
        {{- end }}
    {{- end }}
    {{- $isTarget := false }}
    {{- range $.Values.membersTarget }}
        {{- if eq $member.memberSign . }}
            {{- $isTarget = true }}
        {{- end }}
    {{- end }}
    {{- if $isSource }}
aes.spring.datasource.password.{{ $memberKey }}={{ required (printf "Please define an AES encrypted DB password for source member %s in members[%s].datasource.datasourcePasswordSource or secret.datasourcePasswordSource" $member.memberSign $memberKey) (default $.Values.secret.datasourcePasswordSource $member.datasource.datasourcePasswordSource) }}
    {{- else if $isTarget }}
aes.spring.datasource.password.{{ $memberKey }}={{ required (printf "Please define an AES encrypted DB password for target member %s in secret.datasourcePasswordTarget" $member.memberSign) $.Values.secret.datasourcePasswordTarget }}
    {{- end }}
{{- end }}


aes.kafka.password={{ required "Please define an AES encrypted Kafka password in secret.kafkaPassword" .Values.secret.kafkaPassword }}

aes.kafka.schemaregistry.password={{ required "Please define an AES encrypted Kafka Registry Schema password in secret.kafkaSchemaRegistryPassword" .Values.secret.kafkaSchemaRegistryPassword }}

{{- if .Values.secret.keyStorePassword }}
aes.ssl.key.store.password={{ .Values.secret.keyStorePassword }}
{{- end }}

{{- if .Values.secret.trustStorePassword }}
aes.spring.kafka.properties.ssl.truststore.password={{ .Values.secret.trustStorePassword }}
aes.ssl.trust.store.password={{ .Values.secret.trustStorePassword }}
{{- end }}

{{- if .Values.liquibase.enabled }}
aes.liquibase.password={{ required "Please define an AES encrypted Liquibase password in secret.liquibasePassword" .Values.secret.liquibasePassword }}
{{- end }}
